{"version":3,"file":"plugin.cjs.js","sources":["esm/index.js","esm/web.js"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\nconst SpeechSynthesis = registerPlugin('SpeechSynthesis', {\n    web: () => import('./web').then((m) => new m.SpeechSynthesisWeb()),\n});\nexport * from './definitions';\nexport { SpeechSynthesis };\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\nexport class SpeechSynthesisWeb extends WebPlugin {\n    constructor() {\n        super(...arguments);\n        this.utteranceIdCounter = 0;\n        this.currentUtterances = new Map();\n    }\n    async speak(options) {\n        if (!('speechSynthesis' in window)) {\n            throw new Error('Speech synthesis not supported in this browser');\n        }\n        const utteranceId = `web-utterance-${++this.utteranceIdCounter}`;\n        const utterance = new SpeechSynthesisUtterance(options.text);\n        // Set voice if specified\n        if (options.voiceId) {\n            const voices = window.speechSynthesis.getVoices();\n            const voice = voices.find((v) => v.voiceURI === options.voiceId || v.name === options.voiceId);\n            if (voice) {\n                utterance.voice = voice;\n            }\n        }\n        else if (options.language) {\n            const voices = window.speechSynthesis.getVoices();\n            const voice = voices.find((v) => v.lang === options.language);\n            if (voice) {\n                utterance.voice = voice;\n            }\n            utterance.lang = options.language;\n        }\n        // Set speech parameters\n        if (options.pitch !== undefined) {\n            utterance.pitch = Math.max(0, Math.min(2, options.pitch));\n        }\n        if (options.rate !== undefined) {\n            utterance.rate = Math.max(0.1, Math.min(10, options.rate));\n        }\n        if (options.volume !== undefined) {\n            utterance.volume = Math.max(0, Math.min(1, options.volume));\n        }\n        // Set up event listeners\n        utterance.onstart = () => {\n            this.notifyListeners('start', { utteranceId });\n        };\n        utterance.onend = () => {\n            this.currentUtterances.delete(utteranceId);\n            this.notifyListeners('end', { utteranceId });\n        };\n        utterance.onboundary = (event) => {\n            this.notifyListeners('boundary', {\n                utteranceId,\n                charIndex: event.charIndex,\n                charLength: event.charLength,\n            });\n        };\n        utterance.onerror = (event) => {\n            this.currentUtterances.delete(utteranceId);\n            this.notifyListeners('error', {\n                utteranceId,\n                error: event.error || 'Unknown error',\n            });\n        };\n        // Handle queue strategy\n        if (options.queueStrategy === 'Flush') {\n            window.speechSynthesis.cancel();\n            this.currentUtterances.clear();\n        }\n        this.currentUtterances.set(utteranceId, utterance);\n        window.speechSynthesis.speak(utterance);\n        return { utteranceId };\n    }\n    async synthesizeToFile(_options) {\n        throw new Error('synthesizeToFile is not supported on web platform');\n    }\n    async cancel() {\n        if ('speechSynthesis' in window) {\n            window.speechSynthesis.cancel();\n            this.currentUtterances.clear();\n        }\n    }\n    async pause() {\n        if ('speechSynthesis' in window) {\n            window.speechSynthesis.pause();\n        }\n    }\n    async resume() {\n        if ('speechSynthesis' in window) {\n            window.speechSynthesis.resume();\n        }\n    }\n    async isSpeaking() {\n        if ('speechSynthesis' in window) {\n            return { isSpeaking: window.speechSynthesis.speaking };\n        }\n        return { isSpeaking: false };\n    }\n    async isAvailable() {\n        return { isAvailable: 'speechSynthesis' in window };\n    }\n    async getVoices() {\n        if (!('speechSynthesis' in window)) {\n            return { voices: [] };\n        }\n        const webVoices = window.speechSynthesis.getVoices();\n        const voices = webVoices.map((voice) => ({\n            id: voice.voiceURI,\n            name: voice.name,\n            language: voice.lang,\n            isNetworkConnectionRequired: !voice.localService,\n            default: voice.default,\n        }));\n        return { voices };\n    }\n    async getLanguages() {\n        if (!('speechSynthesis' in window)) {\n            return { languages: [] };\n        }\n        const webVoices = window.speechSynthesis.getVoices();\n        const languages = Array.from(new Set(webVoices.map((voice) => voice.lang)));\n        return { languages };\n    }\n    async isLanguageAvailable(options) {\n        if (!('speechSynthesis' in window)) {\n            return { isAvailable: false };\n        }\n        const webVoices = window.speechSynthesis.getVoices();\n        const isAvailable = webVoices.some((voice) => voice.lang === options.language);\n        return { isAvailable };\n    }\n    async isVoiceAvailable(options) {\n        if (!('speechSynthesis' in window)) {\n            return { isAvailable: false };\n        }\n        const webVoices = window.speechSynthesis.getVoices();\n        const isAvailable = webVoices.some((voice) => voice.voiceURI === options.voiceId || voice.name === options.voiceId);\n        return { isAvailable };\n    }\n    async initialize() {\n        // Pre-load voices on web\n        if ('speechSynthesis' in window) {\n            window.speechSynthesis.getVoices();\n        }\n    }\n    async activateAudioSession(_options) {\n        // Not applicable on web\n    }\n    async deactivateAudioSession() {\n        // Not applicable on web\n    }\n    async getPluginVersion() {\n        return { version: 'web' };\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["registerPlugin","WebPlugin"],"mappings":"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"}